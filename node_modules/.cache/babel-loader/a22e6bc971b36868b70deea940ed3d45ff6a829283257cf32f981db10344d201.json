{"ast":null,"code":"var _jsxFileName = \"/Users/mehmetalikaba/Desktop/Lab2/101453763_comp3123_labtest22/src/App.js\",\n  _s = $RefreshSig$();\n// src/App.js\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar';\nimport WeatherCard from './components/WeatherCard';\nimport WeatherModal from './components/WeatherModal';\nimport { fetchWeather, fetchForecast } from './api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [city, setCity] = useState('Toronto');\n  const [displayCity, setDisplayCity] = useState('Toronto'); // Dynamic city display\n  const [forecast, setForecast] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedWeather, setSelectedWeather] = useState(null);\n  useEffect(() => {\n    const getWeatherData = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const weatherResponse = await fetchWeather(city);\n        const forecastResponse = await fetchForecast(city);\n        const todayWeather = {\n          ...weatherResponse.data,\n          dt_txt: new Date().toISOString()\n        };\n        const dailyData = forecastResponse.data.list.filter(reading => reading.dt_txt.includes('12:00:00'));\n        const combinedForecast = [todayWeather, ...dailyData];\n        setForecast(combinedForecast);\n        setDisplayCity(capitalize(city)); // Set capitalized city name\n      } catch (err) {\n        setError('Failed to fetch weather data. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    getWeatherData();\n  }, [city]);\n  const capitalize = str => {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  };\n  const handleSearch = searchedCity => {\n    setCity(searchedCity);\n  };\n  const handleCardClick = weather => {\n    if (weather.name) {\n      setDisplayCity(capitalize(weather.name)); // Update city name dynamically\n    }\n    setSelectedWeather(weather);\n  };\n  const handleCloseModal = () => {\n    setSelectedWeather(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      title: \"Weather App\",\n      onSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 23\n    }, this), !loading && !error && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: displayCity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"weather-cards-container\",\n        children: forecast.map((weather, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => handleCardClick(weather),\n          className: `card-wrapper ${index === 0 ? 'today-card' : ''}`,\n          children: /*#__PURE__*/_jsxDEV(WeatherCard, {\n            weather: weather,\n            city: capitalize(city),\n            isToday: index === 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 33\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true), selectedWeather && /*#__PURE__*/_jsxDEV(WeatherModal, {\n      weather: selectedWeather,\n      city: displayCity // Pass the city name to the modal\n      ,\n      onClose: handleCloseModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"zpRz6au+hwOxASqMuGQS4IzACQM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Navbar","WeatherCard","WeatherModal","fetchWeather","fetchForecast","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","city","setCity","displayCity","setDisplayCity","forecast","setForecast","loading","setLoading","error","setError","selectedWeather","setSelectedWeather","getWeatherData","weatherResponse","forecastResponse","todayWeather","data","dt_txt","Date","toISOString","dailyData","list","filter","reading","includes","combinedForecast","capitalize","err","str","charAt","toUpperCase","slice","handleSearch","searchedCity","handleCardClick","weather","name","handleCloseModal","className","children","title","onSearch","fileName","_jsxFileName","lineNumber","columnNumber","map","index","onClick","isToday","onClose","_c","$RefreshReg$"],"sources":["/Users/mehmetalikaba/Desktop/Lab2/101453763_comp3123_labtest22/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar';\nimport WeatherCard from './components/WeatherCard';\nimport WeatherModal from './components/WeatherModal';\nimport { fetchWeather, fetchForecast } from './api';\n\nconst App = () => {\n    const [city, setCity] = useState('Toronto');\n    const [displayCity, setDisplayCity] = useState('Toronto'); // Dynamic city display\n    const [forecast, setForecast] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [selectedWeather, setSelectedWeather] = useState(null);\n\n    useEffect(() => {\n        const getWeatherData = async () => {\n            setLoading(true);\n            setError(null);\n            try {\n                const weatherResponse = await fetchWeather(city);\n                const forecastResponse = await fetchForecast(city);\n\n                const todayWeather = {\n                    ...weatherResponse.data,\n                    dt_txt: new Date().toISOString(),\n                };\n\n                const dailyData = forecastResponse.data.list.filter((reading) =>\n                    reading.dt_txt.includes('12:00:00')\n                );\n\n                const combinedForecast = [todayWeather, ...dailyData];\n                setForecast(combinedForecast);\n                setDisplayCity(capitalize(city)); // Set capitalized city name\n            } catch (err) {\n                setError('Failed to fetch weather data. Please try again.');\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        getWeatherData();\n    }, [city]);\n\n    const capitalize = (str) => {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    };\n\n    const handleSearch = (searchedCity) => {\n        setCity(searchedCity);\n    };\n\n    const handleCardClick = (weather) => {\n        if (weather.name) {\n            setDisplayCity(capitalize(weather.name)); // Update city name dynamically\n        }\n        setSelectedWeather(weather);\n    };\n\n    const handleCloseModal = () => {\n        setSelectedWeather(null);\n    };\n\n    return (\n        <div className=\"app\">\n            <Navbar title=\"Weather App\" onSearch={handleSearch} />\n            {loading && <p>Loading...</p>}\n            {error && <p className=\"error\">{error}</p>}\n            {!loading && !error && (\n                <>\n                    <h2>{displayCity}</h2>\n                    <div className=\"weather-cards-container\">\n                        {forecast.map((weather, index) => (\n                            <div\n                                key={index}\n                                onClick={() => handleCardClick(weather)}\n                                className={`card-wrapper ${index === 0 ? 'today-card' : ''}`}\n                            >\n                                <WeatherCard\n                                    weather={weather}\n                                    city={capitalize(city)}\n                                    isToday={index === 0}\n                                />\n                            </div>\n                        ))}\n                    </div>\n                </>\n            )}\n            {selectedWeather && (\n                <WeatherModal\n                    weather={selectedWeather}\n                    city={displayCity} // Pass the city name to the modal\n                    onClose={handleCloseModal}\n                />\n            )}\n        </div>\n    );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}